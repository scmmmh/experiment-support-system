<!DOCTYPE html>
<html xmlns:py="http://genshi.edgewall.org/" xmlns:xi="http://www.w3.org/2001/XInclude">
  <xi:include href="../../layout/backend.html"/>
  <head>
    <title>${group.title} - Edit</title>
  </head>
  <body>
    <hgroup>
      <h1>${group.title} - Edit</h1>
    </hgroup>
    <form action="${r.route_url('group.edit', gid=group.id)}" method="post">
      ${h.form.csrf_token(r.session.get_csrf_token())}
      <dl>
        <dt>Title</dt>
        <dd>${h.form.text_field('title', group.title, e)}</dd>
        <dt>Rights</dt>
        <dd>
          <ul class="no-symbol">
            <li py:for="permission in permissions">
              <py:if test="permission.id in has_permissions">
                ${h.form.checkbox('permission', permission.id, permission.id, e, id='permission.%s' % (permission.name))} <label for="permission.${permission.name}">${permission.title}</label>
              </py:if>
              <py:if test="permission.id not in has_permissions">
                ${h.form.checkbox('permission', '', permission.id, e, id='permission.%s' % (permission.name))} <label for="permission.${permission.name}">${permission.title}</label>
              </py:if>
            </li>
          </ul>
        </dd>
      </dl>
      <ul class="buttons">
        <li>${h.form.button("Don't update", class_='button', onclick="document.location='%s'" % r.route_url('group.view', gid=group.id))}</li>
        <li>${h.form.submit('Update', class_='button')}</li>
      </ul>
    </form>
  </body>
</html>