<span xmlns:py="http://genshi.edgewall.org/" xmlns:xi="http://www.w3.org/2003/XInclude">
      <table>
	<tr>
	  <td><label>Task Data:  </label>${h.form.hidden_field('tasks', params['tasks'], class_="role-qsheet-permute")}</td><td>${h.form.select('tasks_dataset', params['tasks_dataset'], h.data.dataset_list(survey), e, class_='role-qsheet-permute')}</td>
	  <td>${h.form.select('task_worb', params['task_worb'], [('w', 'Within'), ('b', 'Between')], e, class_='role-qsheet-permute')}</td>
	  <td><label class="task-restriction">Exclude:</label></td>
	  <td><label id="task-disallow-repeater" style="display:none">${params['task_disallow']}</label>${h.form.select('task_disallow', '', h.qsheet.generate_pairs(params['tasks']), e, class_='role-qsheet-permute task-restriction', multiple="True", size="2")}</td>
	  <td><label class="task-restriction">Order:</label></td>
	  <td><label id="task-order-repeater" style="display:none">${params['task_order']}</label>${h.form.select('task_order', '', h.qsheet.generate_pairs(params['tasks']), e, class_='role-qsheet-permute task-restriction', multiple="True", size="2")}</td>
	</tr>
	<tr>
	  <td><label>Interface Data: </label>${h.form.hidden_field('interfaces', params['interfaces'], class_="role-qsheet-permute")}</td><td>${h.form.select('interfaces_dataset', params['interfaces_dataset'], h.data.dataset_list(survey), e, class_='role-qsheet-permute')}</td>
	  <td>${h.form.select('interface_worb', params['interface_worb'], [('w', 'Within'), ('b', 'Between')], e, class_='role-qsheet-permute')}</td>
	  <td><label class="interface-restriction">Exclude: </label></td>
	  <td><label id="interface-disallow-repeater" style="display:none">${params['interface_disallow']}</label>${h.form.select('interface_disallow', '', h.qsheet.generate_pairs(params['interfaces']), e, class_='role-qsheet-permute interface-restriction', multiple="True", size="2")}</td>
	  <td><label class="interface-restriction">Order:</label></td>
	  <td><label id="interface-order-repeater" style="display:none">${params['interface_order']}</label>${h.form.select('interface_order', '', h.qsheet.generate_pairs(params['interfaces']), e, class_='role-qsheet-permute interface-restriction', multiple="True", size="2")}</td>
	</tr>
	<tr>
	  <td colspan="2"><label>Number of participants needed for this arrangement:</label></td> 
	  <td><label id="pcount">$pcount</label></td>
	  <td><label id="test_output"></label></td>
	</tr>
      </table>
      <label>To apply to page: </label><label id="applies-to-repeater" style="display:none">${permset.applies_to}</label>${h.form.select('qsheet', permset.applies_to, h.qsheet.qsheet_list(survey), e, multiple="True")}
</span>
