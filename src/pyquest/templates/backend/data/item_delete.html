<!DOCTYPE html>
<html xmlns:py="http://genshi.edgewall.org/" xmlns:xi="http://www.w3.org/2001/XInclude">
  <xi:include href="../../layout/backend.html"/>
  <head>
    <title>${h.text.title(data_set.name)} - Delete Data</title>
  </head>
  <body>
    ${h.ui.survey_breadcrumbs([(survey.title, {'href': r.route_url('survey.view', sid=survey.id)}),('Data', {'href': r.route_url('data.list', sid=survey.id)}), (h.text.title(data_set.name), {'href': r.route_url('data.view', sid=survey.id, dsid=data_set.id)}), ('Delete Item', {'href': r.current_route_url()})], r)}
    ${h.survey.fancy_status(r, survey, class_='survey-status right')}
    ${h.ui.main_menu('data', survey, r)}
    <article>
      <div py:if="survey.status in ['running', 'paused', 'finished'] and len(survey.participants) > 0" class="error">The experiment is currently ${h.survey.status(survey.status, True)}
        and any changes you make here will not be reflected in the answers that have already been provided by the participants.</div>
      <hgroup>
        <h1>${h.text.title(data_set.name)} - Delete Data</h1>
      </hgroup>
      <form action="${r.route_url('data.item.delete', sid=survey.id, dsid=data_set.id, did=data_item.id)}" method="post">
        ${h.form.csrf_token_field(r.session.get_csrf_token())}
        <p>Please confirm that you wish to delete the following data:</p>
        <dl>
          <py:for each="attribute in data_item.attributes">
            <dt>${h.text.title(attribute.key.key)}</dt>
            <dd>${attribute.value}</dd>
          </py:for>
        </dl>
        <ul class="buttons span-22">
          <li>${h.form.button("Don't delete", class_='button', onclick="document.location='%s'" % r.route_url('data.view', sid=survey.id, dsid=data_set.id))}</li>
          <li>${h.form.submit('Delete', class_='button')}</li>
        </ul>
      </form>
    </article>
  </body>
</html>
