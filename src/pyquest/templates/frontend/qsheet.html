<section id="${qsheet.name}" class="qsheet grid-12" xmlns:py="http://genshi.edgewall.org/" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:i18n="http://genshi.edgewall.org/i18n">
  <hgroup>
    <h1>${qsheet.title}</h1>
  </hgroup>
  <p class="error" py:if="r.method == 'POST' and e">Please answer all required questions.</p>
  <form action="${submit_url}" method="post" class="role-survey-form">
    <section py:for="data_item in data_items" class="data-item">
      ${h.form.hidden_field('items.%s.csrf_token_' % (data_item['did']), r.session.get_csrf_token())}
      ${h.qsheet.render_questions(qsheet, data_item, participant, e)}
    </section>
    <ul class="buttons inline no-padding no-symbol text-right">
      <li py:if="'clear' in submit_options">${h.form.reset(_('Clear Answers on this Page'), class_='button role-clear')}</li>
      <li py:if="'more' in submit_options">${h.form.submit(_('More Questions'), name='action_', class_='button role-submit')}</li>
      <li py:if="'next' in submit_options">${h.form.submit(_('Next Page'), name='action_', class_='button role-submit')}</li>
      <li py:if="'finish' in submit_options">${h.form.submit(_('Finish Survey'), name='action_', class_='button role-submit')}</li>
      <li py:if="'test-validate' in submit_options">${h.form.submit(_('Test validation'), name='action_', class_='button role-submit')}</li>
    </ul>
  </form>
</section>
