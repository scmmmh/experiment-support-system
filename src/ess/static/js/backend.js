!function(e){var a={init:function(a){return this.each(function(){var t=e(this);t.on("click","a[data-action=edit]",function(a){a.preventDefault();var t=e(this),n=t.parents(".editable-container");n.removeClass("previewing").addClass("editing"),setTimeout(function(){e(window).scrollTop(n.offset().top)},50)}),t.on("click","a[data-action=cancel]",function(a){a.preventDefault();var t=e(this),n=t.parents(".editable-container");n.removeClass("editing").addClass("previewing"),n.find("form")[0].reset()}),t.on("click","a[data-action=save]",function(a){a.preventDefault();var t=e(this),n=t.parents(".editable-container");n.find("form").trigger("submit")}),t.on("submit","form",function(a){a.preventDefault();var t=e(this);t.find(".is-invalid-label").removeClass("is-invalid-label"),t.find(".is-invalid-input").removeClass("is-invalid-input"),t.find("span.form-error.is-visible").removeClass("is-visible");var n=e.ajax(t.attr("action"),{method:"POST",data:t.serialize()});n.then(function(a){if("ok"==a.status){var n=t.parents(".editable-container");n.removeClass("editing").addClass("previewing"),n.find(".preview").empty().append(e(a.fragment).children())}else for(key in a.errors){var i=t.find("*[name="+key+"]"),r=i.parents("label"),o=r.find("span.form-error");0===o.length&&(o=e('<span class="form-error"></span>'),r.append(o)),r.addClass("is-invalid-label"),i.addClass("is-invalid-input"),o.addClass("is-visible"),o.html(a.errors[key])}})}),t.on("click","a[data-action=add-row]",function(a){a.preventDefault();var t=e(this),n=t.parent().parent(),i=n.clone();i.find("a[data-action=add-row]").attr("data-action","remove-row").addClass("alert").removeClass("success"),i.find(".mdi").html("remove"),i.find("input").each(function(){var a=e(this);a.val(""),a.removeClass("hidden")}),n.find("input").each(function(){var a=e(this),t=parseInt(/[0-9]+/.exec(a.attr("name"))[[0]])+1;a.attr("name",a.attr("name").replace(/[0-9]+/,t))}),n.before(i)}),t.on("click","a[data-action=remove-row]",function(a){a.preventDefault(),e(this).parent().parent().remove()}),a.reorder&&(t.on("click","a[data-action=reorder]",function(e){e.preventDefault()}),t.sortable({handle:"a[data-action=reorder]",containment:"parent",tolerance:"pointer",update:function(){var t=[];e("article").children("div").each(function(){t.push(e(this).data("item-id"))}),e.ajax(a.reorder,{method:"POST",data:e.param({csrf_token:a.csrf_token,item:t},!0)})}}))})}};e.fn.inlineEditor=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.inlineEditor"):a.init.apply(this,arguments)}}(jQuery),function(e){var a={init:function(a){return this.each(function(){var a=e(this);a.on("click",function(t){t.preventDefault();var n=a.data("wte-confirm");if(n){var i='<div id="confirm-modal" class="reveal" data-reveal=""><h2>'+(n.title||"Please confirm")+"</h2><p>"+n.msg+'</p><div class="text-right">';n.cancel&&(i=i+'<a href="#" class="button cancel '+(n.cancel.class_||"")+'">'+(n.cancel.label||"Cancel")+"</a>&nbsp;"),n.ok&&(i=i+'<a href="#" class="button ok '+(n.ok.class_||"")+'">'+(n.ok.label||"Ok")+"</a>"),i+="</div></div>";var r=e(i);e("body").append(r);var o=new Foundation.Reveal(r);r.find("a.cancel").on("click",function(e){e.preventDefault(),o.close()}),r.find("a.ok").on("click",function(t){t.preventDefault();var n=e('<form action="'+a.attr("href")+'" method="post"></form>');e("body").append(n),n.submit()}),e(document).on("closed.zf.reveal",function(){r.remove()}),o.open()}else{var s=e('<form action="'+a.attr("href")+'" method="post"></form>');e("body").append(s),s.submit()}})})}};e.fn.postLink=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.postLink"):a.init.apply(this,arguments)}}(jQuery);